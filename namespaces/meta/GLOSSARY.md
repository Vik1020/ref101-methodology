# Глоссарий мета-методологии

**Version:** 1.0.0
**Last Updated:** 2026-01-17

Единый источник истины (SSOT) для базовых элементов мета-методологии. Эти 8 элементов являются инвариантами, на которых строятся все конкретные методологии.

---

## Быстрый поиск

- [Элементы процесса](#элементы-процесса)
- [Паттерны](#паттерны)

---

## Элементы процесса

### State
**Состояние**

Именованная фаза жизненного цикла Entity, определяющая допустимые Actions и условия перехода.

**Типы:**
- Initial — начальный, создаётся автоматически
- Working — активная работа
- Waiting — ожидание внешнего события
- Terminal — конечный, выхода нет
- Error — обработка сбоя

**Пример:** `Draft`, `Review`, `Approved`, `Rejected`

**См. также:** [Fact](#fact), [Action](#action)

---

### Actor
**Исполнитель**

Агент, обладающий способностью выполнять Actions с использованием Tools.

**Типы:**
- Human — принимает решения, использует UI
- AI — выполняет по инструкции, использует API
- System — автоматический триггер, без решений

**Правило:** Actor без Tools не может выполнять Actions.

**Пример:** `ProductManager (Human)`, `AIAnalyst (AI)`, `CronService (System)`

**См. также:** [Tool](#tool), [Action](#action)

---

### Tool
**Инструмент**

Конкретная функция, API или интерфейс, через который Actor выполняет Action.

**Типы:**
- API — программный интерфейс
- UI — пользовательский интерфейс
- LLM — языковая модель
- Script — автоматизированный скрипт
- Manual — ручное действие без системы
- MCP — Model Context Protocol (расширение)

**Правило:** Tool типа UI несовместим с Actor типа AI.

**Пример:** `GitHub API`, `Approval UI`, `Claude`, `Python Script`

**См. также:** [Actor](#actor)

---

### Action
**Действие**

Единица работы, выполняемая Actor с помощью Tool, изменяющая Entity или создающая Fact.

**Атрибуты:**
- actor — кто выполняет
- tool — чем выполняет
- allowed_in_states — где допустим

**Правило:** Имя Action — глагол (`Создать`, `Проверить`, `Утвердить`).

**Пример:** `CreateBrief`, `ValidateMarket`, `ApproveRelease`

**См. также:** [Actor](#actor), [Tool](#tool), [Fact](#fact)

---

### Entity
**Сущность**

Структурированный бизнес-объект, который проходит через States и трансформируется Actions.

**Атрибуты:**
- schema — структура данных (JSON Schema)
- current_state — текущее состояние
- artifacts — прикреплённые файлы
- history — история изменений (append-only)

**Правило:** Entity всегда находится ровно в одном State.

**Пример:** `ProductBrief`, `Release`, `Document`

**См. также:** [State](#state), [Artifact](#artifact)

---

### Artifact
**Артефакт**

Физический файл или документ, связанный с Entity.

**Атрибуты:**
- entity_id — к какой Entity привязан
- created_by — каким Action создан
- version — версия артефакта

**Правило:** Artifact создаётся Action (не появляется из ниоткуда).

**Пример:** `BC_delta.md`, `RELEASE.md`, `context.md`

**См. также:** [Entity](#entity), [Action](#action)

---

### Fact
**Факт/Событие**

Неизменяемая запись о том, что произошло. Триггер для перехода между States.

**Атрибуты:**
- timestamp — когда произошло
- caused_by — какой Action вызвал
- payload — дополнительные данные

**Правила:**
- Имя Fact — прошедшее время (`Создано`, `Утверждено`, `Отклонено`)
- Fact неизменяем (immutable)
- Fact идемпотентен в контексте

**Пример:** `BriefCreated`, `MarketValidated`, `ReleaseDeployed`

**См. также:** [Action](#action), [State](#state)

---

### Rule
**Правило**

Логическое условие, управляющее допустимостью Actions или переходов.

**Типы:**
- Precondition — до выполнения Action
- Postcondition — после выполнения Action
- Guard — при попытке перехода
- Invariant — всегда
- Constraint — при изменении Entity

**Реакции на нарушение:**
- Block — запретить
- Redirect — перенаправить
- Compensate — запустить компенсирующий Action
- Alert — уведомить
- Retry — повторить

**Пример:** `market_score > 1000000`, `entity.title != null`

**См. также:** [State](#state), [Action](#action)

---

## Паттерны

### Bounded Context
**Контекстная граница**

Независимый модуль методологии, связанный с другими только через Facts.

**Правила:**
- Contexts не разделяют States
- Contexts не разделяют Entities (только копируют данные)
- Единственная связь — Fact как событие интеграции

**Пример:** Product Context → Legal Context → Marketing Context

---

### Event Storming
**Моделирование через события**

Метод моделирования процессов через размещение событий на временной шкале.

**Маппинг на элементы:**
- Domain Event → Fact
- Command → Action
- Actor → Actor
- Aggregate → Entity
- Policy → Rule (тип: Guard)

---

### Guard
**Защитное условие**

Rule, проверяемый при переходе между States. Частный случай Rule типа Guard.

**Пример:** `market_score > 1000000` для перехода в Approved

---

### Compensation
**Компенсирующее действие**

Обратное действие для отката изменений при частичном сбое.

**Правила:**
- Каждый Action в саге имеет Compensating Action
- Compensation выполняется в обратном порядке
- Compensation должен быть идемпотентным

---

### Saga
**Распределённая транзакция**

Паттерн управления кросс-контекстными процессами с Compensation для отката.

**Пример:** При сбое в Legal Context откатываем изменения в Product Context.

---

## Changelog

### v1.0.0 - 2026-01-17
- Создан глоссарий мета-методологии
- Вынесено из meta/README.md (Приложение A)
- Расширен формат: добавлены примеры, типы, связи
